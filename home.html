<!DOCTYPE html>
<html>
<head>
   <title>Cows & Bulls</title>

   	<meta name="viewport" content="width=device-width, initial-scale=1">

   	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css">
	<script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
   </head>
<body>


<div data-role="page">

	<div data-role="header">
		<h1>Cows & Bulls</h1>
	</div><!-- /header -->

	<div data-role="content">
        <input type="text" data-clear-btn="true" id="input_userid" placeholder="Enter your email / Mobile Number">
        <div id="div_password">
        <label for="exampleInputPassword1">Password</label>
        <input type="password" id="input_password" placeholder="Password">
        </div>
       	<input type="button" id="button_register" value="Register"/>
    </div><!-- /content -->

		<div data-role="footer">
			<h4>Hope You will enjoy</h4>
		</div><!-- /footer -->
</div><!-- /page -->

    <script>

    // http://demos.jquerymobile.com/1.0a4.1/docs/api/events.html#../../docs/about/../../docs/pages/../../
    //http://demos.jquerymobile.com/1.4.0/

        var var_server_pwd;

        function getServerPwd(aName) {
            if (typeof (Storage) !== "undefined") {
                if (sessionStorage.server_pwd) {
                    var_server_pwd = sessionStorage.getItem(aName);
                }
                else {
                    sessionStorage.setItem(aName, "12345");
                    sessionStorage.setItem("username", aName);
                    var_server_pwd = "12345";
                }
            }
            else {
                alert("browser doesnt support session data / Html 5");
            }
        }

        function displayForm() {
            $("#div_password").show();

            $("#input_password").val(var_server_pwd);
            $("#button_register").text("Go..");
            $("#input_password").attr("disabled", "disabled");
			$("#input_userid").attr("disabled", "disabled");
        }

        $(document).ready(function() {

			if(!var_server_pwd)
			{
				$("#div_password").hide();
				$("#button_register").text("Start the Game");
			}
			else
			{
				displayForm();
			}

            $("#button_register").click(function() {
                var userid = $("#input_userid").val();
                if (userid != "" && !var_server_pwd) {
                	//$.mobile.changePage( "./Level_list.html", { transition: "slideup", changeHash: false });
                }
                else if (userid != "") {
                	getServerPwd(userid);
                    displayForm();
                    $.Pagecontainer.change( "./Level_list.html", { transition: "slideup", changeHash: false });
                }
                else {
                    alert("text box cant be blank");
                }
            });


        });

    </script>
</body>
</html>
